/**
 * å¤´éƒ¨
 */
@Component
export struct ShopHeader {
  @Prop isShopOpen: boolean;

  build() {
    Stack({ alignContent: Alignment.Bottom }) {

      // 1. èƒŒæ™¯å¤§å›¾ (å¸¦æ¨¡ç³Šæ•ˆæœ)
      Image($r('app.media.shop_header')) // æ‰¾å¼ å¥½çœ‹çš„åº—é¢å›¾æˆ–è€…çº¹ç†å›¾
        .width('100%')
        .height(100) // å¤´éƒ¨æ€»é«˜åº¦
        .objectFit(ImageFit.Cover)
        .blur(10) // âœ¨ æ¨¡ç³Šå¤„ç†ï¼Œè®©æ–‡å­—æ›´æ¸…æ™°
      // .opacity(0.8)

      // 2. å†…å®¹å¡ç‰‡ (ç™½è‰²æ‚¬æµ®å¡ç‰‡)
      Row() {

        // (1) å·¦ä¾§ Logo
        Image($r('app.media.shop_logo')) // é‚£ä¸ªé»„è‰²çš„ Logo
          .width(60)
          .height(60)
          .borderRadius(4)
          .margin({ right: 10 })
          .shadow({ radius: 5, color: '#33000000', offsetY: 2 })

        // (2) ä¸­é—´ä¿¡æ¯
        Column({ space: 5 }) {
          // åº—å + æ ‡ç­¾
          Row() {
            Text('å–µå…¶æ—ä¸‰æ˜Ÿ')
              .fontSize(18).fontWeight(FontWeight.Bold)
              .fontColor('#333333')

            // æ ¹æ®çŠ¶æ€æ˜¾ç¤º
            if (this.isShopOpen) {
              Text('è¥ä¸šä¸­')
                .fontSize(10)
                .fontColor(Color.White)
                .backgroundColor('#4CD964') // ç»¿è‰²
                .padding({ left: 4, right: 4, top: 2, bottom: 2 })
                .borderRadius(2)
                .margin({ left: 8 })
            } else {
              Text('ä¼‘æ¯ä¸­')
                .fontSize(10)
                .fontColor(Color.White)
                .backgroundColor('#AAAAAA') // ç°è‰²
                .padding({ left: 4, right: 4, top: 2, bottom: 2 })
                .borderRadius(2)
                .margin({ left: 8 })
            }
          }.width('100%')

          // é…é€ä¿¡æ¯ Row
          Row() {
            // ğŸ“ è·ç¦»
            SymbolGlyph($r('sys.symbol.local'))
              .fontSize(12)
              .fontColor([ '#666666' ])
              .margin({ right: 2 })
            Text('1.5km').fontSize(10).fontColor('#666666')

            // åˆ†å‰²çº¿
            Text(' | ').fontSize(10).fontColor('#DDDDDD').margin({ left: 5, right: 5 })

            // ğŸ’° é…é€è´¹
            SymbolGlyph($r('sys.symbol.yuan_clipboard_fill'))
              .fontSize(12)
              .fontColor([ '#666666' ])
              .margin({ right: 2 })
            Text('é…é€è´¹6å…ƒ').fontSize(10).fontColor('#666666')

            // åˆ†å‰²çº¿
            Text(' | ').fontSize(10).fontColor('#DDDDDD').margin({ left: 5, right: 5 })

            // ğŸ•’ æ—¶é—´
            SymbolGlyph($r('sys.symbol.clock'))
              .fontSize(12)
              .fontColor([ '#666666' ])
              .margin({ right: 2 })
            Text('é¢„è®¡12min').fontSize(10).fontColor('#666666')
          }

          // å…¬å‘Š (å•è¡Œçœç•¥)
          Text('è¿çŒ«éƒ½æƒ³ç§è—çš„æ˜Ÿçº§ç››å®´ã€‚')
            .fontSize(10)
            .fontColor('#999999')
            .maxLines(1)
            .textOverflow({ overflow: TextOverflow.Ellipsis })
            .width('100%')
        }
        .layoutWeight(1) // å æ»¡å‰©ä½™å®½åº¦
        .alignItems(HorizontalAlign.Start)

        // (3) å³ä¾§ç”µè¯æŒ‰é’®
        Column() {
          // åˆ†å‰²çº¿
          Line().width(1).height(20).backgroundColor('#EEEEEE').margin({ bottom: 5 })

          Image($r('sys.symbol.phone')) // ç³»ç»Ÿç”µè¯å›¾æ ‡
            .width(20).height(20).fillColor('#333333')
            .onClick(() => {
              // æ‹¨æ‰“ç”µè¯é€»è¾‘
            })
        }
        .justifyContent(FlexAlign.Center)
        .width(40)

      }
      .width('94%') // æ¯”å±å¹•çª„ä¸€ç‚¹ï¼Œæ›´æœ‰æ‚¬æµ®æ„Ÿ
      .height(80) // å¡ç‰‡é«˜åº¦
      .backgroundColor(Color.White)
      .borderRadius(8)
      .padding(10)
      .margin({ bottom: 10 }) // ç¨å¾®éœ²å‡ºä¸€ç‚¹èƒŒæ™¯
      .shadow({ radius: 10, color: '#10000000', offsetY: 5 })

    }
    .width('100%')
    .height(120) // å®¹å™¨æ€»é«˜åº¦ (èƒŒæ™¯å›¾ + ä¸‹é¢çš„ç©ºéš™)
    .backgroundColor('#F5F5F5')
  }
}