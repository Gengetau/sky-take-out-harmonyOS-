/**
 * æ¨¡æ‹Ÿæ•°æ®
 */
import { CategoryVO, DishFlavor, DishVO } from './ShopModel'; // å‡è®¾æ‚¨çš„æ¨¡å‹åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œ

export class MockData {
  // 1. æ¨¡æ‹Ÿåˆ†ç±»æ•°æ® (å·¦ä¾§åˆ—è¡¨)
  static getCategories(): CategoryVO[] {
    return [
      new CategoryVO(1, 1, 'ä»Šæ—¥ç‰¹æƒ ', 1, 1),
      new CategoryVO(2, 1, 'ç²¾å“çƒ­èœ', 2, 1),
      new CategoryVO(3, 1, 'çˆ½å£å‡‰èœ', 3, 1),
      new CategoryVO(4, 1, 'ä¸»é£Ÿ', 4, 1),
      new CategoryVO(5, 1, 'é¥®æ–™', 5, 1),
    ];
  }

  // 2. æ¨¡æ‹Ÿèœå“æ•°æ® (å³ä¾§åˆ—è¡¨)
  // ä¸ºäº†æ–¹ä¾¿ ListItemGroup åˆ†ç»„ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦ä¸€ä¸ªæ–¹æ³•ï¼šæ ¹æ®åˆ†ç±»IDè·å–èœå“
  static getDishes(): DishVO[] {
    return [
      // --- Category 1: ä»Šæ—¥ç‰¹æƒ  ---
      new DishVO(101, 'ç‰¹ä»·å¤§ç›˜é¸¡', 1, 29.9, 'fig1', 'åˆ†é‡è¶³ï¼Œå‘³é“é²œ', 1, 'ä»Šæ—¥ç‰¹æƒ ', [
        new DishFlavor(1, 101, 'è¾£åº¦', '[ "å¾®è¾£", "ä¸­è¾£" ]')
      ]),

      // --- Category 2: ç²¾å“çƒ­èœ ---
      new DishVO(201, 'é¾™äº•è™¾ä»', 2, 88.0, 'fig2', 'æ¸…æ–°çˆ½å£', 1, 'ç²¾å“çƒ­èœ', []),
      new DishVO(202, 'å®«ä¿é¸¡ä¸', 2, 48.0, 'fig3', 'ç»å…¸å·èœ', 1, 'ç²¾å“çƒ­èœ', [
        new DishFlavor(2, 202, 'è¾£åº¦', '[ "å¾®è¾£", "ç‰¹è¾£" ]'),
        new DishFlavor(3, 202, 'åŠ æ–™', '[ "åŠ èŠ±ç”Ÿ", "åŠ è‘±" ]')
      ]),
      new DishVO(203, 'çº¢çƒ§è‚‰', 2, 68.0, 'fig4', 'è‚¥è€Œä¸è…»', 1, 'ç²¾å“çƒ­èœ', []),

      // --- Category 3: çˆ½å£å‡‰èœ ---
      new DishVO(301, 'æ‹é»„ç“œ', 3, 12.0, 'fig1', 'è„†çˆ½', 1, 'çˆ½å£å‡‰èœ', []),
      new DishVO(302, 'å‡‰æ‹Œæœ¨è€³', 3, 16.0, 'fig2', 'è§£è…»ç¥å™¨', 1, 'çˆ½å£å‡‰èœ', []),

      // --- Category 4: ä¸»é£Ÿ ---
      new DishVO(401, 'ç±³é¥­', 4, 2.0, 'fig3', 'äº”å¸¸å¤§ç±³', 1, 'ä¸»é£Ÿ', []),
      new DishVO(402, 'é¦’å¤´', 4, 1.0, 'fig4', 'æ‰‹å·¥å¤§é¦’å¤´', 1, 'ä¸»é£Ÿ', []),
    ];
  }

  /**
   * ğŸ› ï¸ è¾…åŠ©æ–¹æ³•ï¼šæŠŠæ•°æ®æ•´åˆæˆ ListItemGroup éœ€è¦çš„ç»“æ„
   * ç»“æ„ï¼šCategoryVO -> [DishVO, DishVO...]
   */
  static getCategoryWithItems(): CategoryWithItems[] {
    const categories = MockData.getCategories();
    const allDishes = MockData.getDishes();

    return categories.map(cat => {
      // æ‰¾åˆ°è¯¥åˆ†ç±»ä¸‹çš„æ‰€æœ‰èœå“
      const items = allDishes.filter(d => d.categoryId === cat.id);
      return new CategoryWithItems(cat, items);
    });
  }
}

// ğŸ“¦ å®šä¹‰ä¸€ä¸ªèšåˆç±»ï¼Œä¸“é—¨ç»™ç‚¹é¤é¡µé¢çš„åˆ—è¡¨ç”¨
export class CategoryWithItems {
  category: CategoryVO;
  items: DishVO[];

  constructor(category: CategoryVO, items: DishVO[]) {
    this.category = category;
    this.items = items;
  }
}